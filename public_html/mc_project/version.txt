//============================================================================//
version 2.0.0 // 2012.03.02
//----------------------------------------------------------------------------//
Изменения:
Много изменений, в перемешку важные и не очень.

1. Теперь в контроллерах в админке не showAction(), а filterByParIdAction(),
filterBySectIdAction() etc. Сами методы стали немного удобнее.
2. В футере ссылка на ресурсы сбрасывает фильтр "Меню-родитель" в ноль.
3. Теперь для статики, у которой нет отдельной странички, к примеру для
картинки, лого, прайс-листы и т.д в поле "url" приписывать не слово static, а
"system", т.е. не static-logo и static-price, а system-logo и system-price.
Так понятнее.
4. Разберём пример. В админке есть список разделов. Он разбит на столбики -
название, картинка, категории. Категории в каждой строке - это ссылка на
категории, в этой ссылке пишется, сколько категорий в этом разделе. Так вот эти
цифры теперь цветные - если ни одной категории, цифра красная, иначе зелёная.
Мелочь, а приятно :)
5. Исправлены бока с профилем. Если у пользователя достатчно прав для
редактирования других пользователей, то даже свой профиль (ссылка справа
вверху) он редактирует через контроллер AdminUsersController. Иначе через
контроллер ProfileController, в котором нет возможности редактировать себе права
доступа к ресурсам (иначе он бы шустро вылез из песочницы :)) Вот этот
контроллер и глючил, ввиду малого тестирования оного, т.к. мы обычно работаем
"под рутом".
6. В system/routes.php в нескольких местах добавлены свичи на случай, если для
отдельного маршрута мы захотим задать определённое поведение, например, не
чейнить к нему те же частички(lang, page etc), что и к другим или причейнить
другие, или вообще создать маршрут другого типа. То же самое касается
маршрутов, автоматически строящихся по статике (по полям "url") - нам может
понадобиться для отдельной статики создать нестандартный маршрут или набор
маршрутов.
7. В формах для статики для admin/about форма отправлялась на admin-static/edit
а там по параметру 'id' из getAllParams() мы редиректились снова на admin/about.
Трабл в том, что если в этот момент вылетает ошибка, то в getAllParams мы не
получаем наши 'id' и пр. и от этого вылазит куча проблем. Тепрь с admin/about
форма отправляется строго на admin/about и проблемы исчезли.
8. Добавлен trim() при создании ресурса. Теперь забытый пробел в названии
ресурса не будет смущать новичков :)
9. Добавлена папка library/Mc/Views, в которой будут лежать общий хелперы,
партишалы и прочий рендерный контент.
10. Добавлены папки admin/views/form-elements, default/views/form-elements и
library/Mc/Views/FormElements. Планируется сделать набор своих элементов форм
с возможностью указания вьюшки для рендеринга. По умолчанию вьшки будут браться
из папки library/Mc/Views/FormElements, но если будет приходить фантастическая
вёрстка, мы будем указывать вьюшки из папки default/views/form-elements (и
править их, как нужно для вёрстки - то, что давно хотели) или даже из папки
админки, если вёрстка будет для админки - мало ли :)
11. В админку добавлены ресурсы типа Футер/Копирайт, Шапка/Лого, Главная/,
Левая колонка/ и Правая колонка/. Если они не используются в конкретном сайте,
то лучше снимать галочки чем удалять совсем. Вообще, рекомендуется группировать
такие ресурсы, например, "Футер/Копирайт" и "Футер/Текст слева"
12. Исправлены некоторые бока с крошками.
13. Исправлены бока с ajax-селектами в формах.
14. Исправлены бока с метой - теперь самая приоритетная мета, которая вбивается
сеошником через админку, за ней мета, вбитая руками в коде на выводе и последняя
по приоритету - общая мета, на случай, если первых двух нету.
15. Почищены модельки.
16. Пофиксен бок с методом Admin_Model_AdminUsersModel::getArticle(); Он никогда
не возвращал null, даже если не найдены юзеры, это иногда доставляло проблемы.
17. ВАЖНО. Раньше вся логика по фильтрации данных происходила в самих фильтрах,
т.е. в методе фильтра(формы) mapForm() происходил не только populate формы
фильтра, но также и выборка данных. Теперь фильтры только популэйтятся и
передают дальше данные. Что с этими данными делать, мы решаем уже в модели. Так
правильнее (!) и проще построить сложный фильтр, т.к. в контексте модели можно
сделать любую выборку данных и обработать их, так, как нам нужно.
18. Так же методы mapFilterFromPost() и mapFilterFromSession() перекочевали из
модели в сами фильтры и значительно (!) упрощены.
19. ВАЖНО. Раньше данные для работы с фильтрами, формами и т.п. сваливались в
одну кучу в sessionNamespace. Теперь значения для фильтров записываются в
sessionNamespace->filterValues, данные о сортировке данных в sessionNamespace->
orderValues и т.п. Во-первых, это позволило добавить тот же ордер, без боязни
перебить какую-то ранее заданную переменную в сессии (так бывало). Во-вторых,
теперь нет никакого беспорядка, всё предельно четко ясно и нет никакой "магии".
Например, раньше, если мы зашли в раздел каталога (выбрали par_id в фильтре) и
нажали кнопку "Добавить", поле "Раздел" (par_id) у создаваемого товара уже за-
полнено автоматически. Так происходило как раз из-за совпадения имен. Теперь
автозаполнение делается специально, отдельным методом, а значит, никаой магии
нет, а это есть гут.
20. В routes.php в методе refresh() при создании окончательных маршрутов (чей-
нов), добавлена конструкция if, подсказывающая, что, оказывается, для некото-
рых маршрутов (например, маршрутов, начинающихся с "default-catalog", к примеру
"default-catalog-sections" и "default-catalog-products") можно "причейнивать"
свои уникальный чейники. Например, Вы добавили в каталоге фильтр по бренду. На
примере маршрута page (system/routes/other), создаём маршрут brand_id и причей-
ниваем его ко всем маршрутам, начинающимся с default-catalog. Теперь в каталоге
если в адресной строке встретится brand_id/10, то в каталоге это обработается
должным образом.
21. В админку повсеместно добавлены ордеры.
22. В админке удобнее добавлять ссылки, фильтрующие данные. Например, в списке
разделов, ссылки, выводящие товары по каждому из разделов.
23. Методы Mc_Functions::strToViewName() ..ModuleName, ControllerName, ActionNa-
me, ActionName и ColName(). Преобразовывают строку типа HeloMyDearWorld в
hello-my-dear-world или hello_my_dear_world. Теперь используются повсеместно.
24. Каждому хелперу по персональной вьюшке. Это значит, что теперь можно писать
любые переменные, не боясь перебить с похожими названиями из других хелперов.
25. Теперь у методов Mc_Model::getArticles() и Mc_Model::getPaginator() есть
только один параметр - array $options, туда и перекочевал старый параметр
$select, так трушнее.
26. saveArticle заменен на addArticle и editArticle. до этого, если мы даже
хотели отредактировать запись и случайно передавли $id=null, то запись без
вопросов ДОБАВЛЯЛАСЬ. Теперь, если мы редактируем запись и передаём левый id, то
получаем Exception, что более правильно.
27. Панелька в админке с ресурсами, статикой и т.п. спрятана поглубже :)
28. Формам при создании можно передавать опции, например, для определения, как
будет выглядеть эта форма. К примеру, есть аяксовая пара селектов - sect_id и
cat_id. Мы передаем в опциях значение sect_id и тогда в cat_id подгружаются
только необходимые значения.
29. В аяксовых селектах форм (не фильтров!) чайлд не заполнен, пока не выбран
парент. Так сделано потому, что многие запоняли категорию, не указывая раздела и
, в итоге, всё ломалось.
30. ВАЖНО. Добавлен раздел AdminExample, где можно найти многие готовые элементы
форм, фильтров и т.п.
31. Отточена работа с формами, их популэйтом из сессии и т.п.
32. Добавлен автоматический ордер.
33. В аяксовых селектах при выборе в разделе "не выбрано", в категории догружа-
лись ВСЕ категории. Теперь ничего не догружается и чтобы выбрать категорию,
нужно сначала выбрать раздел.
34. Валидатор для URL страниц (ЧПУ), ошибки формы выводятся вначале, правки.	
35. Теперь в методе Mc_Controller_Action::filterBy() сначала сносятся все остальные фильтры, дабы не было путаницы.
36. Шестеренка (сокрытие сео и других отвлекающих факторов).
37. в getArticles помимо limit можно передавать limitOffset
38. Мультиэлемент для формы.
39. Мультизагрузка для галереи.



//----------------------------------------------------------------------------//
Примечания: 
1. Был пофиксен баг с удалением картинок в случае удаления запись. Причина
была в переменной $fileName метода Mc_Form::deleteImages(). В foreach к ней
добавлялся путь к директории на каждом шаге.
2. Баг с линейкой прокрутки внизу пофиксен. Он был из-за datepicker'а:
mc_project/admin_content/js/jqcalendar/jquery-ui-1.7.2.custom.css
и mc_project/admin_content/js/datetimepicker/jquery-ui-1.7.2.custom.css
в ".ui-helper-hidden-accessible" удалено "left: -99999999px;". Необходимо ещё
разобраться с мусором в js. jQuery и jQuery UI номально подключить.
3. jQuery и jQuery UI нормально подключены.

//============================================================================//








//============================================================================//
version 1.1.2 beta // 2012.02.15_1256
//----------------------------------------------------------------------------//
Исправлено/Добавлено:
1. В админке добавлен 2-ух уровневый каталог: разделы-категории-товары

//----------------------------------------------------------------------------//
Примечания: 
//============================================================================//


//============================================================================//
version 1.1.1 beta // 2012.02.15_1000
//----------------------------------------------------------------------------//
Исправлено/Добавлено:
1. В админке в начале каждой модели появились константы вида:
    /**
    * Папка для сохранения файлов
    */
    const uploadDir = 'galleries_articles';

    /**
    * Лэйбл крошки в breadcrumbs 
    */
    const crumbLabel = 'Галереи';
а также методы
    static public function getUrlUpload(){...}
    static public function getPathUpload(){...}
и теперь предполагается вбивать настройки для каждого модуля здесь. Впрочем, от
этого мы не потеряли в гибкости и всегда, на любом этапе, можем прописать всё
вручную так, как нужно в конкретном случае. Зато такие настройки теперь будут
собираться в одном месте.
2. Насколько это возможно, в элементах форм названия классов, если они там
используются(для заполнения этих элементов данными), вынесены в начало
элемента. Например:
    $elementName = 'img';
    $articlesModel = new Admin_Model_GalleriesArticlesModel();
это сделано потому, что копируя, например, элемент картинки из одной формы в
другую, программисты часто забывают исправить названия моделей.

//----------------------------------------------------------------------------//
Примечания: 
//============================================================================//


//============================================================================//
version 1.1.0 beta // 2012.02.12_2027
//----------------------------------------------------------------------------//
Исправлено/Добавлено:
Добавлена ацкая куча всего и переработана структура админки. Для обратной
совместимости остались некоторые старые методы, но помечены, как deprecated.
1. Упростилась структура. Раньше классы админки и фронтенда наследовали от
соответствующих классов, а те уже от общего. Теперь сразу от общего. Например,
класс Admin_NewsController наследовал от Mc_Admin_Controller_Action, а он, в
свою очередь от Mc_Controller_Action. Теперь же Admin_NewsController наследует
сразу от Mc_Controller_Action. Изменения коснулись всех частей админки -
контроллеров, форм, фильтров и моделей.
2. Методы saveAddArticle() и saveEditArticle(), которые присутствовали почти в
каждом контроллере админки в addAction() и editAction(), помечены как
deprecated, а все их содержимое перемещено прямо в вышеупомянутые экшены. Так
сделано потому, что часто приходится работать с данными по особому, например,
сохранять в несколько таблиц, поэтому выносить эти действия в отдельный метод
не стоит.
3. Метод Mc_Model::saveArticle() теперь помечен, как deprecated, а вместо него
созданы два метода - addArticle() и editArticle(). Пользователь должен четко
знать, что делает - добавляет новую запись или редактирует старую, а потому и
методы должны быть разными.

//----------------------------------------------------------------------------//
Примечания: 
//============================================================================//


//============================================================================//
version 1.0.2 beta // 2012.01.05_2023
//----------------------------------------------------------------------------//
Исправлено/Добавлено:
1. Улучшена статика, исправлены некоторые баги, связанные с ней
2. Пофиксены баги, связанные с удалением картинок. Теперь они удаляются и при
удалении нескольких статей
3. Изменился порядок аргументов в Mc_Functions::setMeta();
4. Другие правки, которые не цепляют интерфейс

//----------------------------------------------------------------------------//
Примечания: структура была изменена только в статике и setMeta
//============================================================================//


//============================================================================//
version 1.0.1 beta
//----------------------------------------------------------------------------//
Исправлено/Добавлено:
1. Улучшены крошки
2. Экшены в контроллерах админки разделены на edit и add
3. Формы теперь, как и модели с контроллерами, наследуют от Mc_Admin_Form или
Mc_Default_Form, а не сразу от Mc_Form
4. Добавлен этот readme
//----------------------------------------------------------------------------//
Примечания:
//============================================================================//


//============================================================================//
version 1.0.0 beta
//----------------------------------------------------------------------------//
Исправлено/Добавлено:
1. Разработана новая структура сайта и внедрено много фич.
//----------------------------------------------------------------------------//
Примечания:
//============================================================================//
